[gd_scene load_steps=8 format=3 uid="uid://b3swnm3lvor3i"]

[ext_resource type="Script" path="res://scripts/main/main.gd" id="1_bldvu"]
[ext_resource type="PackedScene" uid="uid://bjp2bck62tl2m" path="res://scenes/control_panel/control_panel.tscn" id="2_uvv3l"]
[ext_resource type="Script" path="res://scripts/shared/websocket_client.gd" id="4_bxfqh"]
[ext_resource type="PackedScene" uid="uid://h1kmx2dkntdj" path="res://scenes/live2d/live_2d_melba.tscn" id="4_el578"]
[ext_resource type="FontFile" uid="uid://c6j4af040h110" path="res://assets/main/New Bread.ttf" id="5_pnxoy"]
[ext_resource type="AudioStream" uid="uid://d3sjs2q0qb6yh" path="res://assets/main/TOASTED.mp3" id="6_vd5ab"]

[sub_resource type="Theme" id="Theme_q4aj4"]
default_font = ExtResource("5_pnxoy")
default_font_size = 40
RichTextLabel/colors/font_outline_color = Color(0.556863, 0.384314, 0.117647, 1)
RichTextLabel/colors/font_shadow_color = Color(0.388235, 0.262745, 0.0705882, 1)
RichTextLabel/constants/outline_size = 5
RichTextLabel/constants/shadow_offset_x = 3
RichTextLabel/constants/shadow_offset_y = 3

[node name="Main" type="Node2D" node_paths=PackedStringArray("client", "control_panel", "subtitles", "cancel_sound", "speech_player")]
script = ExtResource("1_bldvu")
client = NodePath("WebSocketClient")
control_panel = NodePath("ControlPanel")
subtitles = NodePath("Subtitles")
cancel_sound = NodePath("CancelSound")
speech_player = NodePath("SpeechPlayer")

[node name="WebSocketClient" type="Node" parent="."]
script = ExtResource("4_bxfqh")

[node name="ControlPanel" parent="." instance=ExtResource("2_uvv3l")]
initial_position = 3
current_screen = 0

[node name="Live2DMelba" parent="." instance=ExtResource("4_el578")]
position = Vector2(656, 1146)

[node name="Subtitles" type="RichTextLabel" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 60.0
offset_top = 863.0
offset_right = 1860.0
offset_bottom = 1043.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_q4aj4")
bbcode_enabled = true
text = "[center]According to all known laws of aviation, there is no way a bee should be able to fly. Its wings are too small to get its fat little body off the ground. "
fit_content = true
scroll_active = false
shortcut_keys_enabled = false
meta_underlined = false
hint_underlined = false
deselect_on_focus_loss_enabled = false
visible_characters_behavior = 1

[node name="SpeechPlayer" type="AudioStreamPlayer" parent="."]
bus = &"Voice"

[node name="CancelSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_vd5ab")
bus = &"Voice"

[connection signal="finished" from="SpeechPlayer" to="." method="_on_speech_player_finished"]
